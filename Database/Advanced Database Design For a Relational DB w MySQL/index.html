<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Advanced Database Design For a Relational DB w/ MySQL - KaiDocs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Advanced Database Design For a Relational DB w/ MySQL";
    var mkdocs_page_input_path = "Database\\Advanced Database Design For a Relational DB w MySQL.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> KaiDocs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Learning%20Resource/">學習資源</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../%E6%A5%B5%E6%85%A2%E9%96%8B%E7%99%BC/">極慢開發</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API Design</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../API%20Design/readme/">API Design Resources</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Agile</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Agile/91%20TDD/">91 TDD</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Agile/Agile/">Agile</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Agile/Is%20Design%20Dead/">Is Design Dead</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Database</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Advanced Database Design For a Relational DB w/ MySQL</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#database-design-essentials">Database Design Essentials</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-database-design-mistakes">Common Database Design Mistakes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#database-purpose">Database Purpose</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#best-practices">Best Practices</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#naming-convetions">Naming Convetions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#which-columns-to-index">Which Columns to Index</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#when-to-use-a-view">When to Use a View</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#use-artifical-keys">Use Artifical Keys</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#use-integrity-checks-as-much-as-you-can">Use Integrity Checks As Much As You Can</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#dont-have-all-columns-nullable">Don't Have All Columns NULLable</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#make-sure-you-understand-database-normalization">Make Sure You Understand Database Normalization</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../MySQL%20%E8%B6%85%E6%96%B0%E6%89%8B%E5%85%A5%E9%96%80/">MySQL 超新手入門</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../MySql/">MySQL</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../readme/">Database</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Finished</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/Art%20of%20Unit%20Testing/">Art of Unit Testing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/HDFS%20Spark/">HDFS Spark</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/Learning%20How%20to%20Learn/">Learning How to Learn</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/Refactoring/">Refactoring</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/The%20Effective%20Engineer/">The Effective Engineer</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/%E7%B5%A6%E5%8A%9B/">給力</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Finished/%E8%99%95%E7%90%86%E5%95%8F%E9%A1%8C%E7%9A%84%E6%AD%A3%E7%A2%BA%E5%A7%BF%E5%8B%A2/">處理問題的正確姿勢</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Game Development</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Game%20Development/Articles/">Articles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Game%20Development/Unity/">Unity</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Information Security</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Information%20Security/readme/">Information Security</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Languages</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">JavaScript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/JavaScript/Asynchronous%20Programming/">Asynchronous Programming</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/JavaScript/JavaScript%20%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F/">JavaScript 設計模式</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Python</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/python/Alembic/">alembic</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/python/Pytest/">Pytest</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/python/SQLAlchemy/">SQLAlchemy</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/python/Virtualenv/">Virtualenv</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Languages/python/readme/">Python</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">System Design</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20Design/Architect/">Architect</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20Design/readme/">System Design</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">System and Editor</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Docker/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Git%20and%20GitLab/">Git & GitLab Learning</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Internet%20Information%20Services%20%28IIS%29/">IIS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Jenkins/">Jenkins</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Jmeter/">Jmeter</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Linux/">Ubuntu</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Powershell/">PowerShell Notes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Vim/">Vim</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/VisualStudio/">VisualStudio</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/Windows%20Cmd/">Windows Cmd</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../System%20and%20Editor/cmd%20vs%20bash/">Cmd vs Bash</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Web</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Web/Frontend/">Frontend</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Web/Nodejs/">Nodejs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Web/readme/">Web Docs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Codecademy</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/codecademy/CSS/">Learn CSS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/codecademy/HTML/">Introduction to HTML</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">React</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/react/Modern%20React%20with%20Redux/">Modern React with Redux</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Topics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/Ajax/">Ajax</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/CORS/">Cross-Origin Resource Sharing (CORS)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/Chrome%20Extension/">Chrome Extension</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/Http%20Cookies/">HTTP cookies</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/Strict%20mode/">Strict mode</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/THIS/">THIS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Web/topics/Testing/">Testing</a>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">KaiDocs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Database &raquo;</li>
        
      
    
    <li>Advanced Database Design For a Relational DB w/ MySQL</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="advanced-database-design-for-a-relational-db-w-mysql">Advanced Database Design For a Relational DB w/ MySQL</h1>
<ul>
<li>naming conventions is important because you don't want to change that naming convention after you have a few people created already because then it's pure mess</li>
</ul>
<h2 id="database-design-essentials">Database Design Essentials</h2>
<ol>
<li><strong>Understand the database's purpose</strong> (OLTP/OLAP?)</li>
<li><strong>Get the right tool</strong> (MySQL Workbench)</li>
<li><strong>Gather the requirements for the database</strong> (biz, tech, ops)</li>
<li><strong>Standardize the naming convention</strong></li>
<li><strong>Enforce relationships</strong> (data integrity)</li>
<li><strong>Use the appropriate data types</strong> (use a variety of data types)</li>
<li><strong>Be conscientious</strong> when modeling the data (do what's right!)</li>
<li><strong>Include indexes</strong> when modeling</li>
<li><strong>Document your work</strong> &amp; keep track of changes (GitHub repo)</li>
</ol>
<h2 id="common-database-design-mistakes">Common Database Design Mistakes</h2>
<ol>
<li>Poor design/planning</li>
<li>Ignoring normalization</li>
<li>Poor naming standards</li>
<li>Lack of documentation</li>
<li>One table to hold all domain values</li>
<li>Using identity columns are your ONLY key</li>
<li>Not using SQL facilities to protect data integrity</li>
<li>Trying to build generic objects (common reference table)</li>
<li>Lack of testing</li>
<li>Poor deployment workflow (lack of environments)</li>
</ol>
<h2 id="database-purpose">Database Purpose</h2>
<ul>
<li>what is the purpose of the database? transactional(OLTP) or anlytical database(OLAP)?</li>
<li>OLTP: optimize for the speed of transactions</li>
<li>OLAP: optimize for the speed of aggregate queries</li>
<li>The OLTP disk access tends to be random disk access. (thus may get benefit from storage grids). On the other hand, OLAP operations tend to be long and resource intensive thus more contention risk. Furthermore, the OLAP disk access tends to be sequential. To avoid OLAP blocking the OLTP it's advisable to <strong>separate OLTP &amp; OLAP processing</strong>, i.e. using a dedicated server only for OLAP operations or to defer OLAP operations to nightly/less intensive period.</li>
</ul>
<h2 id="best-practices">Best Practices</h2>
<h3 id="naming-convetions">Naming Convetions</h3>
<ul>
<li>Michal: I think that the scrum is a little enemy for database design, because in database design things should not really change so fast because it's very cumbersome.</li>
<li>table or column names always always in singular, so you don't spend time thinking of if it is user or users.</li>
</ul>
<h3 id="which-columns-to-index">Which Columns to Index</h3>
<p>How to choose which columns for index:</p>
<ul>
<li>The primary and foreign <strong>keys</strong> columns are candidates for index.</li>
<li>Choose columns which <strong>not frequently updated</strong>, since index will degrade performance of DML (update, insert, delete) operations (due to index table maintenance).</li>
<li>Choose columns which are used in <strong>order by / group by</strong> clauses since indexes will order the data to make these statements faster.</li>
<li>If you use <strong>range</strong> in where clause (e.g. between) use this range columns when making clustered index.</li>
<li>Use <strong>high selective</strong> / high cardinality columns.</li>
<li><strong>Order is matter</strong> when creating composite indexes: create highly selective indexes by using the most restrictive columns first.</li>
</ul>
<p>Avoid over indexing:</p>
<ul>
<li>Remove <strong>unused index</strong></li>
<li>For <strong>small table</strong> your don't need index</li>
<li>If more than 10 percent of table must be examined you might better use full table scan instead of index</li>
</ul>
<h3 id="when-to-use-a-view">When to Use a View</h3>
<p>Consider to use views in these cases:</p>
<ul>
<li>To limit columns/tables that a user can see due to <strong>security/privacy</strong> concerns. You might restrict the view query to read only and limit the rows return.</li>
<li>To <strong>hide complex join</strong>, to represent a combination of tables.</li>
<li>To give <strong>meaningful names</strong>.</li>
<li>To <strong>absorb changes</strong>. When the data model in database changes, the application can still use the same query if we modify the view definition.</li>
</ul>
<h3 id="use-artifical-keys">Use Artifical Keys</h3>
<ul>
<li>artifical key is a little bit better than natural since you don't need to worry about the number could be changed</li>
</ul>
<h3 id="use-integrity-checks-as-much-as-you-can">Use Integrity Checks As Much As You Can</h3>
<p><strong>Domain tables (reference tables)</strong> are effective for enforcing integrity. They work well when there are many values to be checked against, or the values to be checked are frequently changing.</p>
<p>A common misconception is to think that the <strong>application</strong> should check integrity. The issue here is that a central database might be accessed by many applications. Also, you generally want to protect the data where it is: in the database.</p>
<p>If the possible values are limited or in a range, then a check constraint may be preferable. Let’s say that messages are defined as either Incoming or Outgoing, in which case there is no need for a foreign key. But, for something like valid currencies, while these may seem static, they actually change from time-to-time. Countries join a currency union and currencies change.</p>
<p>Applications should also perform integrity checks, but <strong>don’t rely only on the application for integrity checking.</strong> Defining integrity rules on the database ensures that those rules will never be violated. In this way, the data satisfies the defined integrity rules at all times.</p>
<h3 id="dont-have-all-columns-nullable">Don't Have All Columns NULLable</h3>
<p>Within the database columns definitions good data domains, ranges and values should be analyzed, evaluated and prototyped for the business application.</p>
<p>Having good default values, a limited scope of values and always a value are best for performance and application logic. NULLable columns are only good when data is unknown or doesn’t have a value yet.</p>
<p>Someone’s death date data is the classic example of a NULLable column because it is unknown unless they are already dead. Make sure your database design represents data that is known and only uses a minimum of NULLable columns.</p>
<h3 id="make-sure-you-understand-database-normalization">Make Sure You Understand Database Normalization</h3>
<p>Your OLTP database should be well normalized - using at least third normal form and maybe even up to fifth normal form is the starting critical evaluation criteria.</p>
<p>The reason the database design normalization processes have been endorsed forever is because they are effective for identifying all the insert, update and delete data anomalies and support the integrity of the application data.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../MySQL%20%E8%B6%85%E6%96%B0%E6%89%8B%E5%85%A5%E9%96%80/" class="btn btn-neutral float-right" title="MySQL 超新手入門">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../Agile/Is%20Design%20Dead/" class="btn btn-neutral" title="Is Design Dead"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../Agile/Is%20Design%20Dead/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../MySQL%20%E8%B6%85%E6%96%B0%E6%89%8B%E5%85%A5%E9%96%80/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
